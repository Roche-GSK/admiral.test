<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test Data for the admiral Package • admiral.test</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Test Data for the admiral Package">
<meta property="og:description" content="A set of Study Data Tabulation Model (SDTM) datasets from the Clinical
    Data Interchange Standards Consortium (CDISC) pilot project used for testing
    and developing Analysis Data Model (ADaM) derivations inside the admiral
    package.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">admiral.test</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="admiraltest">admiral.test<a class="anchor" aria-label="anchor" href="#admiraltest"></a>
</h1></div>
<p>Test data for the <a href="https://pharmaverse.github.io/admiral/" class="external-link">admiral</a> package taken from the <a href="https://github.com/cdisc-org/sdtm-adam-pilot-project" class="external-link">CDISC pilot project</a> and renamed with <code>admiral_</code> prefix for clarity. As this mostly contains safety data only, we extend this as needed by adding further test data required such as for PK and TA-specific efficacy analyses. See the “How To Update” section below for more details.</p>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<p>The package is available from CRAN and can be installed by running <code>install.packages("admiral.test")</code>.</p>
<p>To install the latest development version of the package directly from GitHub use the following code:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"remotes"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"pharmaverse/admiral.test"</span>, ref <span class="op">=</span> <span class="st">"devel"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="how-to-update">How To Update<a class="anchor" aria-label="anchor" href="#how-to-update"></a>
</h1>
<p>Firstly, make a GitHub issue in this repo with the planned updates and tag <code>@pharmaverse/admiral</code> so that one of the development core team can sanity check the request. Then there are two main ways to extend the test data, either by adding new datasets or extending existing datasets with new records/variables. Whichever method you choose, it is worth noting the following:</p>
<ul>
<li>Programs that generate test data are stored in the <code>dev/</code> folder.</li>
<li>Each of these programs is written as a standalone R script: if any packages need to be loaded for a given program, then call <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code> at the start of the program (but please do <strong>not</strong> call <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library(admiral.test)</a></code>).</li>
<li>Most of the packages that you are likely to need will already be specified in the <code>renv.lock</code> file, so they will already be installed if you have been keeping in sync–you can check this by entering <code><a href="https://rstudio.github.io/renv/reference/status.html" class="external-link">renv::status()</a></code> in the Console. However, you may also wish to install <code>{metatools}</code> and <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a>, which are currently not specified in the <code>renv.lock</code> file. If you feel that you need to install any other packages in addition to those just mentioned, then please tag <code>@pharmaverse/admiral</code> to discuss with the development core team.</li>
<li>When you have created a program in the <code>dev/</code> folder, you need to run it as a standalone R script, in order to generate a test dataset that will become part of the <code>{admiral.test}</code> package, but you do not need to build the package.</li>
<li>Following <a href="https://r-pkgs.org/data.html#sec-data-data" class="external-link">best practice</a>, each dataset is stored as a <code>.rda</code> file whose name is consistent with the name of the dataset: for example, the dataset <code>dm</code> should be renamed to <code>raw_dm</code> before saving it as <code>raw_dm.rda</code>; if you save <code>dm</code> as <code>raw_dm.rda</code> and subsequently load the <code>.rda</code> file, then <code>dm</code> (not <code>raw_dm</code>) will be loaded into the global environment.</li>
<li>The programs in <code>dev/</code> are stored within the <code>{admiral.test}</code> GitHub repository, but they are <strong>not</strong> part of the <code>{admiral.test}</code> package–the <code>dev/</code> folder is specified in <code>.Rbuildignore</code>.</li>
<li>When you run a program that is in the <code>dev/</code> folder, you generate a dataset that is written to the <code>data/</code> folder, which will become part of the <code>{admiral.test}</code> package.</li>
<li>The names of test datasets are specified in <code>R/data.R</code>, for the purpose of generating documentation in the <code>man/</code> folder.</li>
</ul>
<div class="section level2">
<h2 id="adding-new-sdtm-datasets">Adding New SDTM Datasets<a class="anchor" aria-label="anchor" href="#adding-new-sdtm-datasets"></a>
</h2>
<ul>
<li>Create a program in the <code>dev/</code> folder, named <code>&lt;name&gt;.R</code>, where <code>&lt;name&gt;</code> is the SDTM domain name, (e.g. <code>rs.R</code>), to generate the test data and output <code>admiral_&lt;name&gt;.rda</code> to the <code>data/</code> folder. Use CDISC pilot data such as <code>admiral_dm</code> as input in this program in order to create realistic synthetic data that remains consistent with other domains. Note that <strong>no personal data should be used</strong> as part of this package, even if anonymized.</li>
<li>Run the program.</li>
<li>Reflect this update, by specifying <code>admiral_&lt;name&gt;</code> in <code>R/data.R</code>.</li>
<li>Run <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code> in order to update <code>NAMESPACE</code> and update the <code>.Rd</code> files in <code>man/</code>.</li>
</ul>
</div>
<div class="section level2">
<h2 id="updating-existing-sdtm-datasets">Updating Existing SDTM Datasets<a class="anchor" aria-label="anchor" href="#updating-existing-sdtm-datasets"></a>
</h2>
<ul>
<li>Rename the source dataset as <code>raw_&lt;name&gt;</code>, where <code>&lt;name&gt;</code> is the SDTM domain name (e.g. rename <code>ds</code> to <code>raw_ds</code>), and then save it to the <code>data/</code> folder as <code>raw_&lt;name&gt;.rda</code> (e.g. <code>save(raw_ds, file = "data/raw_ds.rda")</code>).</li>
<li>Create a program in the <code>dev/</code> folder, named <code>update_&lt;name&gt;.R</code>, to load <code>raw_&lt;name&gt;.rda</code>, make the updates, and output <code>admiral_&lt;name&gt;.rda</code> to the <code>data/</code> folder.</li>
<li>Run the program.</li>
<li>Reflect this update, by specifying both <code>raw_&lt;name&gt;</code> and <code>admiral_&lt;name&gt;</code> in <code>R/data.R</code>.</li>
<li>Run <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code> in order to update <code>NAMESPACE</code> and update the <code>.Rd</code> files in <code>man/</code>.</li>
</ul>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=admiral.test" class="external-link">View on CRAN</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>Apache License (&gt;= 2.0)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing admiral.test</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Thomas Neitmann <br><small class="roles"> Author, maintainer </small>  </li>
<li>Stefan Bundfuss <br><small class="roles"> Author </small>  </li>
<li>Gordon Miller <br><small class="roles"> Author </small>  </li>
<li>Ben Straub <br><small class="roles"> Author </small>  </li>
<li>Syed Mubasheer <br><small class="roles"> Author </small>  </li>
<li>F. Hoffmann-La Roche AG <br><small class="roles"> Copyright holder, funder </small>  </li>
<li>GlaxoSmithKline LLC <br><small class="roles"> Copyright holder, funder </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Thomas Neitmann, Stefan Bundfuss, Gordon Miller, Ben Straub, Syed Mubasheer, F. Hoffmann-La Roche AG, GlaxoSmithKline LLC.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
